<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ââµ‰∏ñÁ¥Ä 2048</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <audio id="bg-music" loop><source src="audio/bgm.mp3" type="audio/mpeg"></audio>
    <audio id="sfx-click"><source src="audio/click.mp3" type="audio/mpeg"></audio>

    <div id="game-scale-wrapper">
        <div id="game-container">
            
            <!-- ‚òÖ ÂÖ®Âüü UI (Âè≥‰∏äËßíÔºöÊàêÂ∞±„ÄÅÊºîÂåñ„ÄÅËÅ≤Èü≥) ‚òÖ -->
            <!-- ÈÄôÊòØ‰Ω†Ë¶ÅÁöÑ„ÄåÂè≥ÈÇä‰∏âÂÄã„ÄçÔºå‰∏çÁÆ°Âú®Â§ßÂª≥ÈÇÑÊòØÈÅäÊà≤‰∏≠ÈÉΩÈ°ØÁ§∫Âú®Âè≥‰∏äËßí -->
            <div id="global-icons" class="lobby-icons">
                <button id="btn-open-achievement" class="icon-btn hover-effect">
                    <img src="images/01_lobby/achieve.png">
                </button>
                <button id="btn-open-help" class="icon-btn hover-effect">
                    <img src="images/01_lobby/help.png">
                </button>
                <button id="btn-toggle-sound" class="icon-btn hover-effect">
                    <img id="img-sound" src="images/01_lobby/btn_sound_on.png">
                </button>
            </div>

            <!-- 1. Â§ßÂª≥ -->
            <div id="start-screen" class="screen active">
                <div class="full-bg" style="background-image: url('images/01_lobby/logo_bg.png');"></div>
                <div class="lobby-logo">
                    <img src="images/01_lobby/logoanim.png" alt="Logo">
                </div>
                <div class="lobby-buttons">
                    <button id="btn-endless" class="img-btn hover-effect">
                        <img src="images/01_lobby/btn_start.png">
                    </button>
                    <button id="btn-normal" class="img-btn hover-effect">
                        <img src="images/01_lobby/btn_challenge.png">
                    </button>
                </div>
            </div>

            <!-- 2. ÈÅäÊà≤‰∏≠ -->
            <div id="game-screen" class="screen">
                <div class="full-bg" style="background-image: url('images/04_game/game_bg.jpg');"></div>
                
                <div class="game-layout-inner">
                    <!-- Â∑¶ÂÅ¥ÔºöÊ£ãÁõ§ -->
                    <div class="playfield-area">
                        <div class="playfield-bg">
                            <div class="grid-container" id="grid-container"></div>
                        </div>
                    </div>

                    <!-- Âè≥ÂÅ¥ÔºöUI Èù¢Êùø -->
                    <div class="sidebar-area">
                        <!-- 1. ‰∏äÂ∏ù & Â∞çË©±Ê°Ü -->
                        <div class="god-wrapper">
                            <div id="god-dialog" class="god-dialog hidden">Âä†Ê≤πÔºÅ</div>
                            <div class="god-container">
                                <img src="images/04_game/mission.png" id="god-character">
                            </div>
                        </div>
                        
                        <!-- 2. Êï∏ÊìöÁúãÊùø (ÂàÜÊï∏/Ê≠•Êï∏) -->
                        <div class="info-group">
                            <div class="stat-box" style="background-image: url('images/04_game/action_step.png');">
                                <span id="moves-display">‚àû</span>
                            </div>
                            <div class="stat-box" style="background-image: url('images/04_game/score.png');">
                                <span id="score-display">0</span>
                                <div id="score-effect" class="score-effect"></div>
                            </div>
                        </div>

                        <!-- 3. ‰∏ãÊñπÊäÄËÉΩÊåâÈàï (ÈÄôÊòØ‰Ω†Ë¶ÅÁöÑ„Äå‰∏ãÊñπ‰∏âÂÄã„Äç) -->
                        <div class="bottom-skills">
                            <!-- ÂõûÈ¶ñÈ†Å -->
                            <button class="skill-btn hover-effect" id="btn-back-home">
                                <img src="images/04_game/menu.png">
                            </button>
                            <!-- ‰∏ä‰∏ÄÊ≠• (Êö´ÊôÇÁî®ÊñáÂ≠ó/Icon‰ª£ÊõøÔºåË´ãÊèõÊàê icon_undo.png) -->
                            <button class="skill-btn hover-effect" id="btn-undo">
                                <span style="font-size:24px;">‚Ü∫</span>
                                <span class="skill-cost">-100</span>
                            </button>
                            <!-- ÁÅ´Â±± (Êö´ÊôÇÁî®ÊñáÂ≠ó/Icon‰ª£ÊõøÔºåË´ãÊèõÊàê icon_volcano.png) -->
                            <button class="skill-btn hover-effect" id="btn-volcano">
                                <span style="font-size:24px;">üåã</span>
                                <span class="skill-cost">-500</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 3. ÊàêÂ∞±ÂΩàÁ™ó -->
            <div id="modal-achievement" class="modal-overlay hidden">
                <div class="popup-container" style="width: 817px; height: 556px;">
                    <img src="images/02_achievement/rank_bg.png" class="popup-bg">
                    
                    <button id="btn-close-achievement" class="close-btn hover-effect">
                        <img src="images/02_achievement/btn_close.png">
                    </button>

                    <div class="achievement-list" id="achievement-list-container">
                        <!-- JS ÂãïÊÖãÁîüÊàê -->
                    </div>
                </div>
            </div>

            <!-- 4. ÊºîÂåñÂúñÈëë -->
            <div id="modal-help" class="modal-overlay hidden">
                <div class="book-container">
                    <img src="images/03_evolution/ach_img.png" class="book-bg">
                    <!-- Â∑¶Âè≥È†ÅÂÆπÂô®ÔºåÂÖßÂÆπÁî± JS ÁîüÊàê -->
                    <div class="page-left"><div id="evo-grid-left" class="book-grid-layout"></div></div>
                    <div class="page-right"><div id="evo-grid-right" class="book-grid-layout"></div></div>
                </div>
            </div>

            <!-- 5. ÈÅäÊà≤ÁµêÊùüÂΩàÁ™ó -->
            <div id="modal-gameover" class="modal-overlay hidden">
                <div class="overlay-dimmer"></div> 
                <div class="modal-content-small">
                    <div id="modal-bg-layer" class="modal-bg-layer"></div>
                    <div class="modal-btn-group">
                        <button id="btn-modal-retry" class="popup-btn hover-effect">
                            <img src="images/06_fail/btn_replay.png">
                        </button>
                        <button id="btn-modal-close" class="popup-btn hover-effect">
                            <img src="images/02_achievement/btn_close.png">
                        </button>
                    </div>
                </div>
            </div>

            <!-- [Êñ∞] ÁõÆÊ®ôÊèêÁ§∫ÂΩàÁ™ó (ÈÅäÊà≤ÈñãÂßãÂâçÈ°ØÁ§∫) -->
            <div id="modal-target" class="modal-overlay hidden">
                <div class="modal-content-small" style="background: rgba(255,255,255,0.9); border-radius: 20px; justify-content: center; gap: 20px;">
                     <h2 style="margin:0; color:#5D4037;">ÈóúÂç°ÁõÆÊ®ô</h2>
                     <div id="target-content" style="text-align: center;">
                         <!-- JS Â°´ÂÖ•ÁõÆÊ®ô -->
                     </div>
                     <button id="btn-target-confirm" class="popup-btn hover-effect">
                         <img src="images/03_evolution/btn_play.png">
                     </button>
                </div>
            </div>

        </div> 
    </div>

    <script src="script.js"></script>
</body>
</html>